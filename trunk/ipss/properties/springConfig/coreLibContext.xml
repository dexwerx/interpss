<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
         xmlns:p="http://www.springframework.org/schema/p"
	     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	     xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd">

<!--  
	Define ipss core lib objects
-->

	<!--
		Define Loadflow, Short circuit and Stability algorithms
		=======================================================
	-->
	<bean id="dclfAlgorithm" 
	      class="com.interpss.core.CoreObjectFactory"	
		  factory-method="createDclfAlgorithm" 
		  scope="prototype">	
	</bean>

	<bean id="loadflowAlgorithm" 
	      class="com.interpss.core.CoreObjectFactory"	
		  factory-method="createLoadflowAlgorithm" 
		  scope="prototype">	
	</bean>

	<bean id="simpleFaultAlgorithm" 
	      class="com.interpss.core.CoreObjectFactory"	
		  factory-method="createSimpleFaultAlgorithm" 
		  scope="prototype">	
	</bean>
	
	<bean id="simuTimeEventHandler" 
	      class="com.interpss.dstab.util.DynamicEventProcessor" 
	      scope="prototype">	
	  	<constructor-arg>
	  		<ref bean="ipssMsgHub"/></constructor-arg>
	</bean>
	
	<bean id="dbDStabSimuOutputHandler" 
	      class="com.interpss.dstab.util.DatabaseSimuOutputHandler" 
	      scope="prototype">	
	</bean>
	
	<bean id="scriptDStabSimuOutputHandler" 
	      class="org.interpss.dstab.script.ScriptSimuOutputHandler" 
	      scope="prototype">	
	</bean>
<!-- 
    To turn off transient stability output to database, use the following dstabSimuOutputHandler
	<bean id="dstabSimuOutputHandler" 
          class="com.interpss.dstab.util.BaseDBSimuOutputHandler"
	      scope="prototype">	
	</bean>
-->

	<bean id="dynaSimuAlgorithm" 
	      class="com.interpss.dstab.DStabObjectFactory"	
		  factory-method="createDynamicSimuAlgorithm" 
		  scope="prototype">	
		<constructor-arg index="0">
			<ref bean="loadflowAlgorithm"/></constructor-arg>
		<constructor-arg index="1">
			<ref bean="simuTimeEventHandler"/></constructor-arg>
		<constructor-arg index="2">
			<ref bean="dbDStabSimuOutputHandler"/></constructor-arg>
	</bean>
	
	<bean id="cmlFieldObjectFactory" 
	      class="org.interpss.dstab.control.cml.CMLFieldObjectFactoryImpl"	
		  scope="singleton">	
	</bean>

	<bean id="busFreqMeasurementImpl" 
	      class="org.interpss.dstab.measure.BusFreqMeasurementImpl"	
		  scope="prototype">	
		<constructor-arg index="0">
				<value>0.01</value></constructor-arg>  <!-- Tf -->
		<constructor-arg index="1">
				<value>0.01</value></constructor-arg>  <!-- Tw -->
	</bean>
	
		<!--
		Define the SimuContext objects for different network type applications.
		======================================================================
	-->
	<bean id="simuContext" 
	      class="com.interpss.simu.SimuObjectFactory" 
		  factory-method="createSimuContext" 
		  scope="prototype">	
	  	<constructor-arg>
	  		<ref bean="ipssMsgHub"/></constructor-arg>
	</bean>
	
	<bean id="simuCtxTypeAclfNet" 
	      class="com.interpss.simu.SimuObjectFactory" 
		  factory-method="createSimuCtxTypeAclfNet" 
		  scope="prototype">	
	  	<constructor-arg>
	  		<ref bean="ipssMsgHub"/></constructor-arg>
	</bean>

	<bean id="simuCtxTypeAclfAdjNet" 
	      class="com.interpss.simu.SimuObjectFactory" 
		  factory-method="createSimuCtxTypeAclfAdjNet" 
		  scope="prototype">	
	  	<constructor-arg>
	  		<ref bean="ipssMsgHub"/></constructor-arg>
	</bean>
	
	<bean id="simuCtxTypeAcscFaultNet" 
	      class="com.interpss.simu.SimuObjectFactory" 
		  factory-method="createSimuCtxTypeAcscFaultNet" 
		  scope="prototype">	
	  	<constructor-arg>
	  		<ref bean="ipssMsgHub"/></constructor-arg>
	</bean>

	<bean id="simuCtxTypeDistNet" 
	      class="com.interpss.simu.SimuObjectFactory" 
		  factory-method="createSimuCtxTypeDistNet" 
		  scope="prototype">	
	  	<constructor-arg>
	  		<ref bean="ipssMsgHub"/></constructor-arg>
	</bean>

	<bean id="netChangeHandler" 
	      class="com.interpss.dstab.util.BaseNetChangeEventHandler" 
	      scope="prototype">	
	  	<constructor-arg>
	  		<ref bean="ipssMsgHub"/></constructor-arg>
	</bean>
	
	<bean id="simuCtxTypeDStabNet" 
		  class="com.interpss.simu.SimuObjectFactory" 
		  factory-method="createSimuCtxTypeDStabNet" 
		  scope="prototype">	
	  	<constructor-arg index="0">
	  		<ref bean="ipssMsgHub"/></constructor-arg>
		<constructor-arg index="1">
			<ref bean="netChangeHandler"/></constructor-arg>
	</bean>

	<!--
		Define the SparseEquation objects
		=================================
	-->
	<bean id="sparseEqnInteger" 
	      class="com.interpss.core.sparse.impl.SparseEqnIntegerImpl" 
		  scope="prototype">	
	</bean>

	<bean id="sparseEqnDouble" 
	      class="com.interpss.core.sparse.impl.SparseEqnDoubleImpl" 
		  scope="prototype">	
	</bean>

	<bean id="sparseEqnComplex" 
	      class="com.interpss.core.sparse.impl.SparseEqnComplexImpl" 
		  scope="prototype">	
	</bean>

	<bean id="sparseEqnMatrix2x2" 
	      class="com.interpss.core.sparse.impl.SparseEqnMatrix2x2Impl" 
		  scope="prototype">	
	</bean>
</beans>
